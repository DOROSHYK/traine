{"version":3,"sources":["js/route.js","js/router.js","js/app.js"],"names":["Route","name","htmlName","defaultRoute","constructor","e","console","error","prototype","undefined","default","isActiveRoute","hashedPath","replace","Router","routes","init","rootElem","document","getElementById","r","scope","window","addEventListener","hasChanged","location","hash","length","i","route","log","substr","goToRoute","url","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","innerHTML","responseText","open","send","router"],"mappings":"AEAA,AFAA,ACAA;;ACEA;;AACA;;;AFDe,ACAA,SDASA,ACAAc,KDAT,CAAeb,ACAf,CAAgBc,GDAhB,EAAqBb,CCArB,EAAwB,KDAxB,EAA+BC,YAA/B,EAA6C;AEG5D,AFFI,ACAA,MDAI,ACAA;ACGH,AFFG,ACAA,QDAG,ACAC,CDAAF,ACACc,ICEI,AFFN,ECAH,EDAY,ACAC,CDAAb,QAAb,EAAuB;AEG3B,AFFQ,ACAA,WCECc,CFFK,ACAA,GCEd,GAAgB,4BDFR,eDAA;AEGJ,AFFC,ACAA,UCEK2B,MAAM,GAAG,IAAI7B,eAAJ,CAAW,CACtB,IAAId,cAAJ,CAAU,MAAV,EAAkB,WAAlB,EAA+B,IAA/B,CADsB,EAEtB,IAAIA,cAAJ,CAAU,SAAV,EAAqB,iBAArB,CAFsB,CAAX,CAAf;AAIH;AFLG,ACAA,SDAKI,ACAAA,WDAL,ACAA,CDAiBH,ACAAc,IDAjB,EAAuBb,ACAvB,QDAA,EAAiCC,YAAjC;AEMJa,AFLC,ACAG,ECKJA,CFVA,CAKE,EEKE,GDLKA,EDAAX,CAAP,CCAE,CDAQ;AEMf,AFLOC,ACAH,CCHA,EDHD,CCGA,AFGIA,ACAF,ODAS,ACAFD,CDAGE,ACAV,EAAU,GDAR,CAAcF,CAAd;AACH,ACAGC,IAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;ADCP,ACAI;AACJ;ADCDL,KAAK,CAACQ,SAAN,GAAkB;AACdP,ACAJa,EDAIb,IAAI,ACAF,CAACO,CDAGC,QCAV,CDDkB,ECCC;ADCfP,ACAA,EDAAA,QAAQ,EAAEO,SAFI;AAGdC,ACAA,EDAAA,OAAO,EAAED,SAHK;AAIdL,ACAAA,EDAAA,ACAAA,WDAW,ACAA,EDAE,ACAA,UDAUH,ACAAc,IDAV,EAAgBb,ACAhB,EAAkB,MDAlB,EAA0BC,YAA1B,EAAwC;AACjD,ACAA,SDAKF,ACAAc,IDAL,ECAA,CDAYd,ECAEc,EDAd,ICAA;ADCA,ACAA,SDAKb,ACAAe,QDAL,ACAA,GDAgBf,ACAAgB,QDAhB,ACAwB,CAACC,cAAT,CAAwB,KAAxB,CAAhB;ADCA,ACAH,GANc,MDMNT,OAAL,GAAeP,YAAf;AACH,ACCDa,EAAAA,CDTc,GCSV,EAAE,YAAY;ADAlBL,ACCI,EDDJA,QCCUS,CAAC,GAAG,CDDD,EAAE,ECCIL,MAAf,EDDqBH,UAAV,EAAsB;AACjC,WAAOA,UAAU,CAACC,OAAX,CAAmB,GAAnB,EAAwB,EAAxB,MAAgC,KAAKZ,IAA5C;AACH,ACAG,KAAC,UAASoB,KAAT,EAAgBD,CAAhB,EAAmB;ADXV,ACYNE,CDZZ,KCYYA,MAAM,CAACC,gBAAP,CAAwB,YAAxB,EAAsC,UAAUlB,CAAV,EAAa;AAC/CgB,QAAAA,KAAK,CAACG,UAAN,CAAiBH,KAAjB,EAAwBD,CAAxB;AACH,OAFD;AAGH,KAJD,EAIG,IAJH,EAISA,CAJT;;AAKA,SAAKI,UAAL,CAAgB,IAAhB,EAAsBJ,CAAtB;AACH,GAhBc;AAkBfI,EAAAA,UAAU,EAAE,UAAUH,KAAV,EAAiBD,CAAjB,EAAoB;AAC5B,QAAIE,MAAM,CAACG,QAAP,CAAgBC,IAAhB,CAAqBC,MAArB,GAA8B,CAAlC,EAAqC;AACjC,WAAK,IAAIC,CAAC,GAAG,CAAR,EAAWD,MAAM,GAAGP,CAAC,CAACO,MAA3B,EAAmCC,CAAC,GAAGD,MAAvC,EAA+CC,CAAC,EAAhD,EAAoD;AAChD,YAAIC,KAAK,GAAGT,CAAC,CAACQ,CAAD,CAAb;AACAtB,QAAAA,OAAO,CAACwB,GAAR,CAAYD,KAAZ;;AACA,YAAIA,KAAK,CAAClB,aAAN,CAAoBW,MAAM,CAACG,QAAP,CAAgBC,IAAhB,CAAqBK,MAArB,CAA4B,CAA5B,CAApB,CAAJ,EAAyD;AACrDzB,UAAAA,OAAO,CAACwB,GAAR,CAAYD,KAAK,CAAClB,aAAN,CAAoBW,MAAM,CAACG,QAAP,CAAgBC,IAAhB,CAAqBK,MAArB,CAA4B,CAA5B,CAApB,CAAZ;AACAV,UAAAA,KAAK,CAACW,SAAN,CAAgBH,KAAK,CAAC3B,QAAtB;AACH;AACJ;AACJ,KATD,MASO;AACH,WAAK,IAAI0B,CAAC,GAAG,CAAR,EAAWD,MAAM,GAAGP,CAAC,CAACO,MAA3B,EAAmCC,CAAC,GAAGD,MAAvC,EAA+CC,CAAC,EAAhD,EAAoD;AAChD,YAAIC,KAAK,GAAGT,CAAC,CAACQ,CAAD,CAAb;;AACA,YAAGC,KAAK,CAACnB,OAAT,EAAkB;AACdW,UAAAA,KAAK,CAACW,SAAN,CAAgBH,KAAK,CAAC3B,QAAtB;AACH;AACJ;AACJ;AACJ,GApCc;AAsChB8B,EAAAA,SAAS,EAAE,UAAU9B,QAAV,EAAoB;AAC1B,KAAC,UAASmB,KAAT,EAAgB;AACb,UAAIY,GAAG,GAAG,WAAW/B,QAArB;AAAA,UACIgC,KAAK,GAAG,IAAIC,cAAJ,EADZ;;AAEAD,MAAAA,KAAK,CAACE,kBAAN,GAA2B,YAAY;AACnC,YAAI,KAAKC,UAAL,KAAoB,CAApB,IAAyB,KAAKC,MAAL,KAAgB,GAA7C,EAAkD;AAC9CjB,UAAAA,KAAK,CAACJ,QAAN,CAAesB,SAAf,GAA2B,KAAKC,YAAhC;AACH;AACJ,OAJD;;AAKAN,MAAAA,KAAK,CAACO,IAAN,CAAW,KAAX,EAAkBR,GAAlB,EAAuB,IAAvB;AACAC,MAAAA,KAAK,CAACQ,IAAN;AACH,KAVD,EAUG,IAVH;AAWH;AAlDc,CAAnB","file":"app.c3f9f951.js","sourceRoot":"..\\src","sourcesContent":["\"use strict\";\r\n\r\nexport default function Route(name, htmlName, defaultRoute) {\r\n    try {\r\n        if(!name || !htmlName) {\r\n            throw 'error: name and htmlName params are mandatories';\r\n        }\r\n        this.constructor(name, htmlName, defaultRoute);\r\n    } catch (e) {\r\n        console.error(e);\r\n    }\r\n}\r\n\r\nRoute.prototype = {\r\n    name: undefined,\r\n    htmlName: undefined,\r\n    default: undefined,\r\n    constructor: function (name, htmlName, defaultRoute) {\r\n        this.name = name;\r\n        this.htmlName = htmlName;\r\n        this.default = defaultRoute;\r\n    },\r\n    isActiveRoute: function (hashedPath) {\r\n        return hashedPath.replace('#', '') === this.name; \r\n    }\r\n}","\"use strict\";\r\n\r\nexport default function Router(routes) {\r\n    try {\r\n        if (!routes) {\r\n            throw 'error: routes param is mandatory';\r\n        }\r\n        this.constructor(routes);\r\n        this.init();\r\n    } catch (e) {\r\n        console.error(e);   \r\n    }\r\n}\r\n\r\nRouter.prototype = {\r\n    // routes: undefined,\r\n    // rootElem: undefined,\r\n    constructor: function (routes) {\r\n        this.routes = routes;\r\n        this.rootElem = document.getElementById('app');\r\n    },\r\n\r\n    init: function () {\r\n        const r = this.routes;\r\n        (function(scope, r) { \r\n            window.addEventListener('hashchange', function (e) {\r\n                scope.hasChanged(scope, r);\r\n            });\r\n        })(this, r);\r\n        this.hasChanged(this, r);\r\n    },\r\n\r\n    hasChanged: function (scope, r) {\r\n        if (window.location.hash.length > 0) {\r\n            for (let i = 0, length = r.length; i < length; i++) {\r\n                let route = r[i];\r\n                console.log(route)\r\n                if (route.isActiveRoute(window.location.hash.substr(1))) {\r\n                    console.log(route.isActiveRoute(window.location.hash.substr(1)))\r\n                    scope.goToRoute(route.htmlName);\r\n                }\r\n            }\r\n        } else {\r\n            for (let i = 0, length = r.length; i < length; i++) {\r\n                let route = r[i];\r\n                if(route.default) {\r\n                    scope.goToRoute(route.htmlName);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n   goToRoute: function (htmlName) {\r\n        (function(scope) { \r\n            var url = 'views/' + htmlName,\r\n                xhttp = new XMLHttpRequest();\r\n            xhttp.onreadystatechange = function () {\r\n                if (this.readyState === 4 && this.status === 200) {\r\n                    scope.rootElem.innerHTML = this.responseText;\r\n                }\r\n            };\r\n            xhttp.open('GET', url, true);\r\n            xhttp.send();\r\n        })(this);\r\n    }\r\n};","\"use strict\";\r\n\r\nimport Route from './route.js';\r\nimport Router from './router.js';\r\n\r\n//export default\r\n    (function () {\r\n    function init() {\r\n        const router = new Router([\r\n            new Route('home', 'home.html', true),            \r\n            new Route('library', 'my-library.html')\r\n        ]);\r\n    }\r\n    init();\r\n}());"]}